<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/estilos.css}">
<link rel="stylesheet" th:href="@{/css/login.css}">
<title>Login</title>
</head>
<body class="bg-light">
	<div class="container-fluid d-flex align-items-center justify-content-center vh-100">
		<div class="card shadow p-4 w-100" style="max-width: 400px;">
			<h3 class="text-center mb-4">Login</h3>
			
			<form id="loginForm" class="d-inline" th:action="@{/login}" method="post">
			<div id="loginError" class="alert alert-danger d-none" role="alert" aria-live="polite"></div>
				<div class="mb-3">
					<label for="username" class="form-label">Usuario</label>
		        	<input type="text" class="form-control" id="username" name="username" required />
				</div>
				<div class="mb-3">
			        <label for="password" class="form-label">Contraseña</label>
			        <input autocomplete="current-password" type="password" class="form-control" id="password" name="password" required />
		      	</div>
		      	
		      	<div class="d-grid mb-3">
		        	<button id="loginBtn" type="submit" class="btn btn-primary d-block" aria-hidden="false">
		        	Entrar
		        	</button>
		        	
		        	<button id="loginBtnDisabled" type="button" class="btn btn-primary d-none align-items-center justify-content-center" disabled aria-hidden="true" aria-live="polite">
		        		<span class="loader-dots" aria-hidden="true">
		        		<span></span><span></span><span></span>
		        		</span>
		        		<span class="visually-hidden" id="loginStatus">Cargando...</span>
	        		</button> 
		      </div>
		      
			</form>
			<div class="text-center">
		    	<p>¿No tienes cuenta? <a th:href="@{/solicitar}">Solicita acceso</a></p>
		    </div>
		   	<!-- <div id="message" th:if="${mensaje}" class="alert alert-success" th:text="${mensaje}"></div>  -->
			<!-- <div id="error" th:if="${error}"  class="alert alert-danger"  th:text="${error}"></div> -->
			<div id="message" class="alert alert-success d-none" th:classappend="${mensaje} ? '' : ' d-none'" th:text="${mensaje}"></div>
			<div id="error" class="alert alert-danger d-none"   th:classappend="${error} ? '' : ' d-none'"   th:text="${error}"></div>

		</div>
	</div>
	
	<div id="submitOverlay" class="d-none" aria-hidden="true">
  		<div class="overlay-content" role="status" aria-live="polite">
    	<div class="loader-dots" aria-hidden="true"><span></span><span></span><span></span></div>
    	<div class="mt-2 text-white">Enviando…</div>
  	</div>
</div>
	
	<script th:src="@{/js/login.js}"></script>
</body>
</html>